language: go
go_import_path: github.com/kubernetes-sigs/aws-alb-ingress-controller
sudo: required

env:
  global:
    - HELM_VERSION=v2.5.0
    - GO111MODULE=on

go:
  - "1.11.2"

cache:
  directories:
    - $GOPATH/pkg
    - $GOPATH/bin
    - $GOROOT

services:
  - docker

before_install:
  - curl -L https://kubernetes-helm.storage.googleapis.com/helm-$HELM_VERSION-linux-amd64.tar.gz | tar -xz -C /tmp
  - mv /tmp/linux-amd64/helm /tmp
  - /tmp/helm init -c

notifications:
  on_success: never
  on_failure: never

script:
  - make server
